## ÐžÐ¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€ Ð³Ñ€ÑƒÐ¿Ð¿Ð¸Ñ€Ð¾Ð²ÐºÐ¸ GROUP BY

Ð’ MySQL GROUP BY Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Ð³Ñ€ÑƒÐ¿Ð¿Ð¸Ñ€Ð¾Ð²ÐºÐ¸ ÑÑ‚Ñ€Ð¾Ðº Ñ Ð¾Ð´Ð¸Ð½Ð°ÐºÐ¾Ð²Ñ‹Ð¼Ð¸ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÑÐ¼Ð¸ Ð² Ð¾Ð´Ð½Ð¾Ð¼ Ð¸Ð»Ð¸ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ñ… ÑÑ‚Ð¾Ð»Ð±Ñ†Ð°Ñ…. Ð§Ð°ÑÑ‚Ð¾ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÑÐµÑ‚ÑÑ Ñ Ð°Ð³Ñ€ÐµÐ³Ð¸Ñ€ÑƒÑŽÑ‰Ð¸Ð¼Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑÐ¼Ð¸, Ñ‚Ð°ÐºÐ¸Ð¼Ð¸ ÐºÐ°Ðº `COUNT()`, `SUM()`, `AVG()`, `MIN()`, `MAX()`.

ðŸ“Œ Ð¡Ð¸Ð½Ñ‚Ð°ÐºÑÐ¸Ñ
```
SELECT column_name, AGGREGATE_FUNCTION(column_name)
FROM table_name
GROUP BY column_name;
```

#### ÐŸÑ€Ð¸Ð¼ÐµÑ€:
*Ð’Ñ‹Ð²ÐµÑÑ‚Ð¸ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð·Ð°ÐºÐ°Ð·Ð¾Ð² Ð¿Ð¾ ÐºÐ°Ð¶Ð´Ð¾Ð¼Ñƒ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ñƒ*
```
SELECT customer_id, COUNT(*) AS total_orders
FROM orders
GROUP BY customer_id;
```

## ÐžÐ¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ HAVING

`HAVING` Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ **ÑƒÐ¶Ðµ Ð°Ð³Ñ€ÐµÐ³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ… *, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð½Ñ‹Ñ… Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ `GROUP BY`. Ð’ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð¸Ðµ Ð¾Ñ‚ `WHERE`, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€ÑƒÐµÑ‚ ÑÑ‚Ñ€Ð¾ÐºÐ¸ **Ð´Ð¾** Ð³Ñ€ÑƒÐ¿Ð¿Ð¸Ñ€Ð¾Ð²ÐºÐ¸, `HAVING` Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÑÐµÑ‚ÑÑ **Ð¿Ð¾ÑÐ»Ðµ** Ð³Ñ€ÑƒÐ¿Ð¿Ð¸Ñ€Ð¾Ð²ÐºÐ¸.

**Ð’ÐÐ˜ÐœÐÐÐ˜Ð•!**
`GROUP BY` Ð¼Ð¾Ð¶ÐµÑ‚ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒÑÑ Ð±ÐµÐ· `HAVING`, Ð½Ð¾ `HAVING` Ð½Ð¸ÐºÐ¾Ð³Ð´Ð° Ð½Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð±ÐµÐ· `GROUP BY`!

### ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð²

| ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº | ÐžÐ¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€  | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|---------|-----------|----------|
| 1       | `SELECT`  | ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚, ÐºÐ°ÐºÐ¸Ðµ ÑÑ‚Ð¾Ð»Ð±Ñ†Ñ‹ Ð¸Ð»Ð¸ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð±Ñ‹Ñ‚ÑŒ Ð²Ñ‹Ð²ÐµÐ´ÐµÐ½Ñ‹. |
| 2       | `DISTINCT`| Ð£Ð±Ð¸Ñ€Ð°ÐµÑ‚ Ð´ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ‚Ñ‹ (Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÑ‚ÑÑ Ð¿Ð¾ÑÐ»Ðµ `SELECT`). |
| 3       | `FROM`    | ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñƒ, Ð¸Ð· ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¹ Ð²Ñ‹Ð±Ð¸Ñ€Ð°ÑŽÑ‚ÑÑ Ð´Ð°Ð½Ð½Ñ‹Ðµ. |
| 4       | `JOIN`    | ÐžÐ±ÑŠÐµÐ´Ð¸Ð½ÑÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ñ… Ñ‚Ð°Ð±Ð»Ð¸Ñ†. |
| 5       | `WHERE`   | Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ÑƒÐµÑ‚ ÑÑ‚Ñ€Ð¾ÐºÐ¸ **Ð´Ð¾** Ð³Ñ€ÑƒÐ¿Ð¿Ð¸Ñ€Ð¾Ð²ÐºÐ¸. |
| 6       | `GROUP BY`| Ð“Ñ€ÑƒÐ¿Ð¿Ð¸Ñ€ÑƒÐµÑ‚ ÑÑ‚Ñ€Ð¾ÐºÐ¸ Ñ Ð¾Ð´Ð¸Ð½Ð°ÐºÐ¾Ð²Ñ‹Ð¼Ð¸ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸ÑÐ¼Ð¸. |
| 7       | `HAVING`  | Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ÑƒÐµÑ‚ Ð°Ð³Ñ€ÐµÐ³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ **Ð¿Ð¾ÑÐ»Ðµ** `GROUP BY`. |
| 8       | `ORDER BY`| Ð¡Ð¾Ñ€Ñ‚Ð¸Ñ€ÑƒÐµÑ‚ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹. |
| 9       | `LIMIT`   | ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡Ð¸Ð²Ð°ÐµÑ‚ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÑ‚Ñ€Ð¾Ðº Ð² Ð²Ñ‹Ð²Ð¾Ð´Ðµ. |
| 10      | `OFFSET`  | ÐŸÑ€Ð¾Ð¿ÑƒÑÐºÐ°ÐµÑ‚ ÑƒÐºÐ°Ð·Ð°Ð½Ð½Ð¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÑ‚Ñ€Ð¾Ðº Ð¿ÐµÑ€ÐµÐ´ Ð²Ñ‹Ð²Ð¾Ð´Ð¾Ð¼. |



#### ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ HAVING
*Ð’Ñ‹Ð±Ñ€Ð°Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ‚ÐµÑ… ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð¾Ð², ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ ÑÐ´ÐµÐ»Ð°Ð»Ð¸ Ð±Ð¾Ð»ÐµÐµ Ñ‡ÐµÐ¼ 5 Ð·Ð°ÐºÐ°Ð·Ð¾Ð²*
```
SELECT 
    customer_id, COUNT(*) AS total_orders
FROM 
    orders
GROUP BY customer_id
HAVING total_orders > 5;
```